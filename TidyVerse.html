<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Tidyverse - US Births</title>

<script src="TidyVerse_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="TidyVerse_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="TidyVerse_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="TidyVerse_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="TidyVerse_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="TidyVerse_files/navigation-1.1/tabsets.js"></script>
<link href="TidyVerse_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="TidyVerse_files/highlightjs-9.12.0/highlight.js"></script>
<script src="TidyVerse_files/kePrint-0.0.1/kePrint.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Tidyverse - US Births</h1>

</div>


<div id="author" class="section level4">
<h4>Author</h4>
<ul>
<li>Joby John</li>
</ul>
</div>
<div id="summary" class="section level4">
<h4>Summary</h4>
<p>In this exercise, I am using US_births_2000-2014_SSA.csv dataset. I am using the dplyr functions to sort, group, mutate and summarize data.</p>
</div>
<div id="load-libraries" class="section level4">
<h4>Load Libraries</h4>
<pre class="r"><code>
library(tidyr)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(knitr)
library(kableExtra)

options(knitr.table.format = &quot;html&quot;)</code></pre>
<p>Following steps are done :</p>
<ul>
<li><p>Read file into a dataframe</p></li>
<li><p>Used dplyr function create summary and display in a kable</p></li>
<li><p>USed dplyr to sort, group and mutate data</p></li>
<li><p>Ploted number of births using ggplot</p></li>
</ul>
<pre class="r"><code>data_url &lt;-&#39;https://raw.githubusercontent.com/fivethirtyeight/data/master/births/US_births_2000-2014_SSA.csv&#39;
births_data &lt;- read.csv(data_url)

births_data_summary_by_year &lt;-    births_data %&gt;%
                                  group_by( year )  %&gt;% 
                                  group_by(year, total_births = sum(births)) %&gt;%
                                  distinct(year,total_births)%&gt;%
                                  select(year, total_births)%&gt;%
                                  arrange(desc(total_births))</code></pre>
</div>
<div id="number-of-births-per-year" class="section level4">
<h4>Number of births per year</h4>
<pre class="r"><code>births_data_summary_by_year %&gt;% 
  kable() %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))  </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
year
</th>
<th style="text-align:right;">
total_births
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2007
</td>
<td style="text-align:right;">
4380784
</td>
</tr>
<tr>
<td style="text-align:right;">
2006
</td>
<td style="text-align:right;">
4335154
</td>
</tr>
<tr>
<td style="text-align:right;">
2008
</td>
<td style="text-align:right;">
4310737
</td>
</tr>
<tr>
<td style="text-align:right;">
2005
</td>
<td style="text-align:right;">
4211941
</td>
</tr>
<tr>
<td style="text-align:right;">
2009
</td>
<td style="text-align:right;">
4190991
</td>
</tr>
<tr>
<td style="text-align:right;">
2004
</td>
<td style="text-align:right;">
4186863
</td>
</tr>
<tr>
<td style="text-align:right;">
2003
</td>
<td style="text-align:right;">
4163060
</td>
</tr>
<tr>
<td style="text-align:right;">
2000
</td>
<td style="text-align:right;">
4149598
</td>
</tr>
<tr>
<td style="text-align:right;">
2001
</td>
<td style="text-align:right;">
4110963
</td>
</tr>
<tr>
<td style="text-align:right;">
2002
</td>
<td style="text-align:right;">
4099313
</td>
</tr>
<tr>
<td style="text-align:right;">
2010
</td>
<td style="text-align:right;">
4055975
</td>
</tr>
<tr>
<td style="text-align:right;">
2014
</td>
<td style="text-align:right;">
4010532
</td>
</tr>
<tr>
<td style="text-align:right;">
2011
</td>
<td style="text-align:right;">
4006908
</td>
</tr>
<tr>
<td style="text-align:right;">
2012
</td>
<td style="text-align:right;">
4000868
</td>
</tr>
<tr>
<td style="text-align:right;">
2013
</td>
<td style="text-align:right;">
3973337
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>
#Births peaked in 2007. Any correlation to great recession?

ggplot(births_data_summary_by_year, aes(x= year, y= total_births)) + geom_line()</code></pre>
<p><img src="README_figs/README-unnamed-chunk-2-1.png" width="672" /></p>
</div>
<div id="number-of-births-per-month" class="section level4">
<h4>Number of births per month</h4>
<pre class="r"><code>births_data_summary_by_month &lt;-   births_data %&gt;%
                                  mutate(month = month.abb[month])%&gt;%
                                  group_by( month )  %&gt;% 
                                  group_by(month, total_births = sum(births)) %&gt;%
                                  distinct(month,total_births)%&gt;%
                                  select(month, total_births)%&gt;%
                                  arrange(desc(total_births))

births_data_summary_by_month %&gt;% 
  kable() %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))  </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
month
</th>
<th style="text-align:right;">
total_births
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Aug
</td>
<td style="text-align:right;">
5540170
</td>
</tr>
<tr>
<td style="text-align:left;">
Jul
</td>
<td style="text-align:right;">
5450418
</td>
</tr>
<tr>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
5399592
</td>
</tr>
<tr>
<td style="text-align:left;">
Oct
</td>
<td style="text-align:right;">
5302865
</td>
</tr>
<tr>
<td style="text-align:left;">
May
</td>
<td style="text-align:right;">
5195445
</td>
</tr>
<tr>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:right;">
5194432
</td>
</tr>
<tr>
<td style="text-align:left;">
Mar
</td>
<td style="text-align:right;">
5172961
</td>
</tr>
<tr>
<td style="text-align:left;">
Jun
</td>
<td style="text-align:right;">
5163360
</td>
</tr>
<tr>
<td style="text-align:left;">
Jan
</td>
<td style="text-align:right;">
5072588
</td>
</tr>
<tr>
<td style="text-align:left;">
Nov
</td>
<td style="text-align:right;">
5008750
</td>
</tr>
<tr>
<td style="text-align:left;">
Apr
</td>
<td style="text-align:right;">
4960750
</td>
</tr>
<tr>
<td style="text-align:left;">
Feb
</td>
<td style="text-align:right;">
4725693
</td>
</tr>
</tbody>
</table>
</div>
<div id="top-10-days" class="section level4">
<h4>Top 10 days</h4>
<pre class="r"><code>top_10_birth_days&lt;- births_data %&gt;% 
            top_n(10, births) %&gt;%
            select(year, month,date_of_month,births)%&gt;%
            mutate(month = month.abb[month])%&gt;%
            arrange(desc(births))

top_10_birth_days %&gt;% 
  kable() %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))  </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
year
</th>
<th style="text-align:left;">
month
</th>
<th style="text-align:right;">
date_of_month
</th>
<th style="text-align:right;">
births
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2009
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
9
</td>
<td style="text-align:right;">
16081
</td>
</tr>
<tr>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
15645
</td>
</tr>
<tr>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
15590
</td>
</tr>
<tr>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
15555
</td>
</tr>
<tr>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
15454
</td>
</tr>
<tr>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
15440
</td>
</tr>
<tr>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
15391
</td>
</tr>
<tr>
<td style="text-align:right;">
2008
</td>
<td style="text-align:left;">
Aug
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
15374
</td>
</tr>
<tr>
<td style="text-align:right;">
2007
</td>
<td style="text-align:left;">
Dec
</td>
<td style="text-align:right;">
20
</td>
<td style="text-align:right;">
15214
</td>
</tr>
<tr>
<td style="text-align:right;">
2006
</td>
<td style="text-align:left;">
Sep
</td>
<td style="text-align:right;">
19
</td>
<td style="text-align:right;">
15205
</td>
</tr>
</tbody>
</table>
</div>
<div id="births-per-day" class="section level4">
<h4>Births per day</h4>
<pre class="r"><code>births_data_summary_by_day_of_week &lt;-    births_data %&gt;%
                                  group_by(day_of_week )  %&gt;% 
                                  group_by(day_of_week, total_births = sum(births)) %&gt;%
                                  distinct(day_of_week,total_births)%&gt;%
                                  select(day_of_week, total_births) %&gt;%
                                  arrange(desc(total_births))
births_data_summary_by_day_of_week %&gt;% 
  kable() %&gt;% 
  kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;))  </code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:right;">
day_of_week
</th>
<th style="text-align:right;">
total_births
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:right;">
10274874
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:right;">
10109130
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:right;">
10045436
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
9850199
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
9316001
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
6704495
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:right;">
5886889
</td>
</tr>
</tbody>
</table>
</div>
<div id="rooms-for-improvement" class="section level4">
<h4>Rooms for Improvement</h4>
<ul>
<li><p>Are Super Bowl Babies A Real Thing? We could Use this dataset to see if that claim is valid or not.</p></li>
<li><p>Convert numerical day of the week to actual day of the week. For example, 1 to sunday.</p></li>
<li><p>Further analysis could be done. For example, how does economy affects the number of births.</p></li>
</ul>
</div>
<div id="references" class="section level4">
<h4>References</h4>
<p><a href="https://raw.githubusercontent.com/fivethirtyeight/data/master/births/US_births_2000-2014_SSA.csv" class="uri">https://raw.githubusercontent.com/fivethirtyeight/data/master/births/US_births_2000-2014_SSA.csv</a></p>
<p><a href="https://www.bustle.com/articles/140278-are-super-bowl-babies-a-real-thing-one-commercial-makes-an-interesting-claim-video" class="uri">https://www.bustle.com/articles/140278-are-super-bowl-babies-a-real-thing-one-commercial-makes-an-interesting-claim-video</a></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
